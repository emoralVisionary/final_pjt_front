{"remainingRequest":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/babel-loader/lib/index.js!/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/src/views/MovieReview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/src/views/MovieReview.vue","mtime":1637534788663},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/babel.config.js","mtime":1637224004846},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Vtb3JhbHZpc2lvbmFyeS9Qcm9qZWN0cy9tb3ZpZV9wcm9qL2ZpbmFsX3BqdF9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTW92aWVSZXZpZXcnLAogIHByb3BzOiB7CiAgICByZXZpZXc6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBpbmRleCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXZpZXdJZDsKICAgIHJldHVybiB7CiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgcmV2aWV3Rm9ybTogewogICAgICAgIHRpdGxlOiBpbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5yZXZpZXcudGl0bGUgOiAiIiwKICAgICAgICBjb250ZW50OiBpbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5yZXZpZXcuY29udGVudCA6ICIiLAogICAgICAgIHJhbms6IGluZGV4ICE9PSB1bmRlZmluZWQgPyB0aGlzLnJldmlldy5yYW5rIDogMAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlUmV2aWV3OiBmdW5jdGlvbiBjcmVhdGVSZXZpZXcoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLnJldmlld0Zvcm0pOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo4MDAwL21vdmllcy8iLmNvbmNhdCh0aGlzLm1vdmllRGF0YS5pZCwgIi9yZXZpZXdzLyIpLAogICAgICAgIGhlYWRlcnM6IHRoaXMudG9rZW4sCiAgICAgICAgZGF0YTogdGhpcy5yZXZpZXdGb3JtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHJlLWxvYWQgbW92aWUgCiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdMb2FkRGV0YWlsJywgX3RoaXMubW92aWVEYXRhLmlkKTsgLy8gdG8gcmV2aWV3IGRldGFpbAoKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdNb3ZpZURldGFpbCcsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgbW92aWVJZDogX3RoaXMubW92aWVEYXRhLmlkCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVSZXZpZXc6IGZ1bmN0aW9uIHVwZGF0ZVJldmlldygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAncHV0JywKICAgICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjgwMDAvbW92aWVzLyIuY29uY2F0KHRoaXMubW92aWVEYXRhLmlkLCAiL3Jldmlld3MvIikuY29uY2F0KHRoaXMuaW5kZXgsICIvdXBkYXRlX2RlbGV0ZS8iKSwKICAgICAgICBoZWFkZXJzOiB0aGlzLnRva2VuLAogICAgICAgIGRhdGE6IHRoaXMucmV2aWV3Rm9ybQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyByZS1sb2FkIG1vdmllIAogICAgICAgIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ0xvYWREZXRhaWwnLCBfdGhpczIubW92aWVEYXRhLmlkKTsgLy8gdG8gcmV2aWV3IGRldGFpbAoKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnTW92aWVEZXRhaWwnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIG1vdmllSWQ6IF90aGlzMi5tb3ZpZURhdGEuaWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnbW92aWVEYXRhJywgJ3Rva2VuJ10pKQp9Ow=="},{"version":3,"sources":["MovieReview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,QAAA,KAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA,KAAA,SAAA,GAAA,KAAA,MAAA,CAAA,KAAA,GAAA,EADA;AAEA,QAAA,OAAA,EAAA,KAAA,KAAA,SAAA,GAAA,KAAA,MAAA,CAAA,OAAA,GAAA,EAFA;AAGA,QAAA,IAAA,EAAA,KAAA,KAAA,SAAA,GAAA,KAAA,MAAA,CAAA,IAAA,GAAA;AAHA;AAFA,KAAA;AAQA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,yCAAA,KAAA,SAAA,CAAA,EAAA,cAFA;AAGA,QAAA,OAAA,EAAA,KAAA,KAHA;AAIA,QAAA,IAAA,EAAA,KAAA;AAJA,OAAA,CAAA,CAMA,IANA,CAMA,YAAA;AACA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,CAAA,SAAA,CAAA,EAAA,EAFA,CAGA;;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,aAAA;AAAA,UAAA,MAAA,EAAA;AAAA,YAAA,OAAA,EAAA,KAAA,CAAA,SAAA,CAAA;AAAA;AAAA,SAAA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OAZA;AAaA,KAhBA;AAiBA,IAAA,YAjBA,0BAiBA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,yCAAA,KAAA,SAAA,CAAA,EAAA,sBAAA,KAAA,KAAA,oBAFA;AAGA,QAAA,OAAA,EAAA,KAAA,KAHA;AAIA,QAAA,IAAA,EAAA,KAAA;AAJA,OAAA,CAAA,CAMA,IANA,CAMA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,MAAA,CAAA,SAAA,CAAA,EAAA,EAFA,CAGA;;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,aAAA;AAAA,UAAA,MAAA,EAAA;AAAA,YAAA,OAAA,EAAA,MAAA,CAAA,SAAA,CAAA;AAAA;AAAA,SAAA;AACA,OAXA,EAYA,KAZA,CAYA,UAAA,GAAA;AAAA,eAAA,OAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AAAA,OAZA;AAaA;AA/BA,GAhBA;AAiDA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,WAAA,EAAA,OAAA,CAAA,CADA;AAjDA,CAAA","sourcesContent":["<template>\n  <div>\n    <h1>Movie Review</h1>\n    <h2>{{ movieData.title }} 리뷰 작성</h2>\n    <div>\n      <label for=\"title\">제목: </label>\n      <input \n        type=\"text\" \n        id=\"title\"\n        v-model=\"reviewForm.title\"\n      >\n    </div>\n    <div>\n      <label for=\"content\">내용: </label>\n      <input \n        type=\"text\" \n        id=\"content\"\n        v-model=\"reviewForm.content\"\n      >\n    </div>\n    <div>\n      <label for=\"rank\">평점: </label>\n      <input \n        type=\"number\" \n        id=\"rank\"\n        v-model.number=\"reviewForm.rank\"\n      >\n    </div>\n    <button @click=\"index !== undefined ? updateReview() : createReview()\">\n      {{index !== undefined ? '수정' : '작성'}}\n    </button>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport axios from 'axios'\n\nexport default {\n  name: 'MovieReview',\n  props: {\n    review: Object\n  },\n  data: function() {\n    const index = this.$route.params.reviewId;\n    return {\n      index: index,\n      reviewForm: {\n        title: index !== undefined ? this.review.title : \"\",\n        content: index !== undefined ? this.review.content : \"\",      \n        rank: index !== undefined ? this.review.rank : 0\n      }\n    }\n  },\n  methods: {\n    createReview() {\n      console.log(this.reviewForm)\n      axios({\n        method: 'post',\n        url: `http://127.0.0.1:8000/movies/${ this.movieData.id }/reviews/`,\n        headers: this.token,\n        data: this.reviewForm,\n      })\n        .then(() => {\n          // re-load movie \n          this.$store.dispatch('LoadDetail', this.movieData.id)\n          // to review detail\n          this.$router.push({ name: 'MovieDetail', params: { movieId: this.movieData.id} })\n        })\n        .catch(err => console.error(err))\n    },\n    updateReview() {\n      axios({\n        method: 'put',\n        url: `http://127.0.0.1:8000/movies/${this.movieData.id}/reviews/${this.index}/update_delete/`,\n        headers: this.token,\n        data: this.reviewForm,\n      })\n        .then(() => {\n          // re-load movie \n          this.$store.dispatch('LoadDetail', this.movieData.id)\n          // to review detail\n          this.$router.push({ name: 'MovieDetail', params: { movieId: this.movieData.id} })\n        })\n        .catch(err => console.error(err))\n    },\n  },\n  computed: {\n    ...mapState(['movieData', 'token']),\n  }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/views"}]}