{"remainingRequest":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/src/views/community/PostDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/src/views/community/PostDetail.vue","mtime":1637526697605},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9zdERldGFpbCcsCiAgbWV0aG9kczogewogICAgdXBkYXRlUG9zdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdQb3N0JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBvc3RJZDogdGhpcy5wb3N0LmlkCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZVBvc3QoKSB7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgICAgIHVybDogYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9jb21tdW5pdHkvJHt0aGlzLnBvc3QuaWR9L3VwZGF0ZV9kZWxldGUvYCwKICAgICAgICBoZWFkZXJzOiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiwKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAvLyByZS1sb2FkIG1vdmllIAogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ0xvYWRQb3N0cycpCiAgICAgICAgICAvLyB0byByZXZpZXcgZGV0YWlsCiAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdQb3N0RGV0YWlsJyB9KQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnQ29tbXVuaXR5JyB9KQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBvc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0c1t0aGlzLiRyb3V0ZS5wYXJhbXMucG9zdElkIC0gMV0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["PostDetail.vue"],"names":[],"mappings":";;;;;;;;;AASA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PostDetail.vue","sourceRoot":"src/views/community","sourcesContent":["<template>\n  <div>\n    {{ post }}\n    <button v-if=\"post.userName === this.$store.state.userName\" @click=\"updatePost\">글 수정</button>\n    <button v-if=\"post.userName === this.$store.state.userName\" @click=\"deletePost\">글 삭제</button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'PostDetail',\n  methods: {\n    updatePost() {\n      this.$router.push({\n        name: 'Post',\n        params: {\n          postId: this.post.id\n        }\n      })\n    },\n    deletePost() {\n      axios({\n        method: 'delete',\n        url: `http://127.0.0.1:8000/community/${this.post.id}/update_delete/`,\n        headers: this.$store.state.token,\n      })\n        .then(() => {\n          // re-load movie \n          this.$store.dispatch('LoadPosts')\n          // to review detail\n          // this.$router.push({ name: 'PostDetail' })\n          this.$router.push({ name: 'Community' })\n        })\n        .catch(err => console.error(err))\n    },\n  },\n  computed: {\n    post() {\n      return this.$store.state.posts[this.$route.params.postId - 1]\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}