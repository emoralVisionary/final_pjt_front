{"remainingRequest":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/src/components/ReviewDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/src/components/ReviewDetail.vue","mtime":1637535571876},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emoralvisionary/Projects/movie_proj/final_pjt_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXZpZXdEZXRhaWwnLAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbWVudHM6IFtdLAogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIHJldmlldzogT2JqZWN0CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVSZXZpZXcoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnTW92aWVSZXZpZXcnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgbW92aWVJZDogdGhpcy5tb3ZpZURhdGEuaWQsCiAgICAgICAgICByZXZpZXdJZDogdGhpcy5yZXZpZXcuaWQsCiAgICAgICAgICByZXZpZXc6IHRoaXMucmV2aWV3CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZVJldmlldygpIHsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsCiAgICAgICAgdXJsOiBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL21vdmllcy8ke3RoaXMubW92aWVEYXRhLmlkfS9yZXZpZXdzLyR7dGhpcy5yZXZpZXcuaWR9L3VwZGF0ZV9kZWxldGUvYCwKICAgICAgICBoZWFkZXJzOiB0aGlzLnRva2VuLAogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIHJlLWxvYWQgbW92aWUgCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnTG9hZERldGFpbCcsIHRoaXMubW92aWVEYXRhLmlkKQogICAgICAgICAgLy8gdG8gcmV2aWV3IGRldGFpbAogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnTW92aWVEZXRhaWwnLCBwYXJhbXM6IHsgbW92aWVJZDogdGhpcy5tb3ZpZURhdGEuaWR9IH0pCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSkKICAgIH0sCiAgICBsb2FkQ29tbWVudHMoKSB7CiAgICAgIGF4aW9zKHsKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgdXJsOiBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL21vdmllcy8ke3RoaXMucmV2aWV3LmlkfS9jb21tZW50cy9gLAogICAgICBoZWFkZXJzOiB0aGlzLnRva2VuLAogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLmNvbW1lbnRzID0gcmVzLmRhdGEpCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQ29tbWVudHMoKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsnbW92aWVEYXRhJywgJ3VzZXJOYW1lJywgJ3Rva2VuJ10pLAogIH0KfQo="},{"version":3,"sources":["ReviewDetail.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReviewDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <button v-if=\"review.userName === userName\" @click=\"updateReview\">리뷰 수정</button>\n    <button v-if=\"review.userName === userName\" @click=\"deleteReview\">리뷰 삭제</button>\n    {{ review }}\n    <hr>\n    {{ comments }}\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport axios from 'axios'\n\nexport default {\n  name: 'ReviewDetail',\n  data: function() {\n    return {\n      comments: [],\n    }\n  },\n  props: {\n    review: Object\n  },\n  methods: {\n    updateReview() {\n      this.$router.push({\n        name: 'MovieReview',\n        params: {\n          movieId: this.movieData.id,\n          reviewId: this.review.id,\n          review: this.review\n        }\n      })\n    },\n    deleteReview() {\n      axios({\n        method: 'delete',\n        url: `http://127.0.0.1:8000/movies/${this.movieData.id}/reviews/${this.review.id}/update_delete/`,\n        headers: this.token,\n      })\n        .then(() => {\n          // re-load movie \n          this.$store.dispatch('LoadDetail', this.movieData.id)\n          // to review detail\n          this.$router.push({ name: 'MovieDetail', params: { movieId: this.movieData.id} })\n        })\n        .catch(err => console.error(err))\n    },\n    loadComments() {\n      axios({\n      method: 'get',\n      url: `http://127.0.0.1:8000/movies/${this.review.id}/comments/`,\n      headers: this.token,\n      })\n        .then(res => this.comments = res.data)\n    }\n  },\n  created() {\n    this.loadComments()\n  },\n  computed: {\n    ...mapState(['movieData', 'userName', 'token']),\n  }\n}\n</script>\n\n<style>\n\n</style>"]}]}